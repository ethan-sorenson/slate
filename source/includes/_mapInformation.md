# Map Information

The Map Information endpoints can be used to retrieve information about process setups.

## GetConnections
This endpoint retrieves all configured connections.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://{{API_Url}}/GetConnections</h6>
	</div>
</div>

> To retrieve a list of connrctions, use this code:

```shell
curl GET "{{API Url}}/GetConnections?token={{Token}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetConnections?token={{Token}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("GET", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
  {
    "Id": "c365b728-60e0-4841-841c-ab73008dd41d",
    "Description": "Production SalesForce",
    "ConnectionType": "SalesForce"
  },
  {
    "Id": "1b763e98-37c4-4d32-8320-abb200d82e59",
    "Description": "Sandbox NAV",
    "ConnectionType": "Dynamics NAV Odata"
  }
]
```
### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint

## GetDataSources
This endpoint retrieves all configured Data Sources.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://{{API_Url}}/GetDataSources</h6>
	</div>
</div>

> To retrieve a list of Data Sources, use this code:

```shell
curl GET "{{API Url}}/GetDataSources?token={{Token}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetDataSources?token={{Token}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("GET", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
  {
    "Id": "bea56ad6-2b4e-4c4f-ae68-a9cf008cee3d",
    "Description": "Accounts",
    "ConnectionId": "8586a527-76d4-4dc4-9128-a92f00e3b85e",
    "Company": "eOne D365Demo",
    "Type": "Microsoft CRM Real-Time Data Source"
  },
  {
    "Id": "3727ed7d-f6bc-4a8d-8b00-a9d800f01fe9",
    "Description": "Bank File",
    "ConnectionId": "00000000-0000-0000-0000-000000000000",
    "Company": "",
    "Type": "Microsoft Excel"
  }
]
```
### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint

## GetMapList
This endpoint retrieves all processes that can be used by the SmartConnect API.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">POST</i>
		<h6>https://{{API_Url}}/GetMapList</h6>
	</div>
</div>

> To retrieve a list of processes, use this code:

```shell
curl POST "{{API Url}}/GetMapList?token={{Token}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetMapList?token={{Token}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
  {
    "MapKey": "c365b728-60e0-4841-841c-ab73008dd41d",
    "MapId": "Import Customers",
    "MapDescription": "Customers to BC"
  },
  {
    "MapKey": "1b763e98-37c4-4d32-8320-abb200d82e59",
    "MapId": "Import Sales Orders",
    "MapDescription": "Sales Orders to BC"
  }
]
```
### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint

<aside class="notice">
Real-time data source maps will not show in this list.
</aside>

## GetProcessesByConnection
This endpoint retrieves all integration processes configured using the specified Connection as the target.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://{{API_Url}}/GetProcessesByConnection</h6>
	</div>
</div>

> To retrieve a list of Integration Processes by Conenction, use this code:

```shell
curl GET "{{API Url}}/GetProcessesByConnection?token={{Token}}&connectionId={{connectionId}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetProcessesByConnection?token={{Token}}&connectionId={{connectionId}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("GET", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
{
    "Items": [
        {
            "mapKey": "00000000-0000-0000-0000-000000000000",
            "mapId": "BULK BC ITEM Import",
            "mapDescription": "Bulk update of inventory levels from BC to Magento",
            "connectionId": "49514fca-f62b-445a-ae93-ac1500dcba76",
            "connectionType": "eOne.SmartConnect.Connectors.GenericRest.GenericRestDestination",
            "destinationType": "eOne.SmartConnect.Connectors.GenericRest.GenericRestDestination",
            "storesErrors": true,
            "isOutputProcess": false,
            "lines": [
                {
                    "lineId": "c2f66328-46b6-429c-bbed-ac2200c71305",
                    "description": "Update Product Inventory",
                    "technicalName": "_a2e1d210-70ed-4361-8b9c-ac2200c1845d",
                    "technicalValue": ""
                }
            ],
            "tenants": [
                {
                    "tenantId": "98f6d277-5934-4eed-a0ee-ac2200c87093",
                    "name": "GenericRest",
                    "serverName": "Magento 2",
                    "technicalName": "Magento"
                }
            ]
        }
    ]
}
```
### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
connectionId | true | Unique id for the connection

## GetProcessesForDatasource
This endpoint retrieves all integration processes configured using the specified Data Source.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">GET</i>
		<h6>https://{{API_Url}}/GetProcessesForDatasource</h6>
	</div>
</div>

> To retrieve a list of Integration Processes by Data Source, use this code:

```shell
curl GET "{{API Url}}/GetProcessesForDatasource?token={{Token}}&dataSourceId={{dataSourceId}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetProcessesForDatasource?token={{Token}}&dataSourceId={{dataSourceId}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("GET", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
    {
        "Id": "cfff743a-ae7b-4262-bd6f-aa3800d8c374",
        "MapId": "PURCHASE DOCUMENTS",
        "Description": "Importing Purchase Documents",
        "SourceType": "eOne.SmartConnect.Connectors.NAV.Odata.MsNavOdataDatasourceAssociation",
        "TargetType": "eOne.SmartConnect.Connectors.Crm2011.MsCrm2011Destination"
    }
]
```
### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
dataSourceId | true | Unique id for the Data Source

## GetMapColumns

This endpoint retrieves all columns defined in the data source of the process.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">POST</i>
		<h6>https://{{API_Url}}/GetMapColumns</h6>
	</div>
</div>

> To retrieve a list of columns defined in a process, use this code:

```shell
curl POST "{{API Url}}/GetMapColumns?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetMapColumns?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
    {
        "ColumnName": "AccountNumber",
        "IsRequired": true
    },
    {
        "ColumnName": "AccountName",
        "IsRequired": false
    },
    {
        "ColumnName": "Phone",
        "IsRequired": false
    }
]
```
### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve

## GetMappedMapColumns

This endpoint retrieves all columns defined in the data source of the process.

### HTTP Request

<div class="api-endpoint">
	<div class="endpoint-data">
		<i class="label label-get">POST</i>
		<h6>https://{{API_Url}}/GetMappedMapColumns</h6>
	</div>
</div>

> To retrieve a list of columns mapped in the destination, use this code:

```shell
curl POST "{{API Url}}/GetMappedMapColumns?token={{Token}}&mapKey={{mapKey}}" \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Accept: application/json' 
```

```python
import requests

url = "{{API Url}}/GetMappedMapColumns?token={{Token}}&mapKey={{mapKey}}"
headers = {
  'Content-Type': 'application/x-www-form-urlencoded',
  'Accept': 'application/json'
}

response = requests.request("POST", url, headers=headers)

print(response.text.encode('utf8'))
```

> The above command returns JSON structured like this:

```json
[
    {
        "ColumnName": "AccountNumber",
        "IsRequired": true
    },
    {
        "ColumnName": "AccountName",
        "IsRequired": false
    },
    {
        "ColumnName": "Phone",
        "IsRequired": false
    }
]
```

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
token | true | Token generated by the GetToken endpoint
mapKey | true | Unique identifier for the process to retrieve
